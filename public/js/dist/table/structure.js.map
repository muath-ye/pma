{"version":3,"file":"table/structure.js","mappings":"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","sources":["webpack://phpmyadmin/./resources/js/src/table/structure.ts","webpack://phpmyadmin/external var \"jQuery\""],"sourcesContent":["import $ from 'jquery';\nimport { AJAX } from '../modules/ajax.ts';\nimport { Functions } from '../modules/functions.ts';\nimport { Navigation } from '../modules/navigation.ts';\nimport { CommonParams } from '../modules/common.ts';\nimport highlightSql from '../modules/sql-highlight.ts';\nimport { ajaxRemoveMessage, ajaxShowMessage } from '../modules/ajax-message.ts';\nimport { Indexes } from '../modules/indexes.ts';\nimport getJsConfirmCommonParam from '../modules/functions/getJsConfirmCommonParam.ts';\nimport { escapeHtml, escapeJsString } from '../modules/functions/escape.ts';\nimport refreshMainContent from '../modules/functions/refreshMainContent.ts';\n/**\n * @fileoverview    functions used on the table structure page\n * @name            Table Structure\n *\n * @requires    jQueryUI\n */\n/**\n * AJAX scripts for /table/structure\n *\n * Actions ajaxified here:\n * Drop Column\n * Add Primary Key\n * Drop Primary Key/Index\n *\n */\n/**\n * Reload fields table\n */\nfunction reloadFieldForm() {\n    $.post($('#fieldsForm').attr('action'), $('#fieldsForm').serialize() + CommonParams.get('arg_separator') + 'ajax_request=true', function (formData) {\n        var $tempDiv = $('<div id=\\'temp_div\\'><div>').append(formData.message);\n        $('#fieldsForm').replaceWith($tempDiv.find('#fieldsForm'));\n        $('#addColumns').replaceWith($tempDiv.find('#addColumns'));\n        $('#move_columns_dialog').find('ul').replaceWith($tempDiv.find('#move_columns_dialog ul'));\n    });\n    $('#page_content').show();\n}\nfunction checkFirst() {\n    if ($('select[name=after_field] option:selected').data('pos') === 'first') {\n        $('input[name=field_where]').val('first');\n    }\n    else {\n        $('input[name=field_where]').val('after');\n    }\n}\n/**\n * Unbind all event handlers before tearing down a page\n */\nAJAX.registerTeardown('table/structure.js', function () {\n    $(document).off('click', 'a.drop_column_anchor.ajax');\n    $(document).off('click', 'a.add_key.ajax');\n    $(document).off('click', '#move_columns_anchor');\n    $(document).off('submit', '.append_fields_form.ajax');\n    $('body').off('click', '#fieldsForm button.mult_submit');\n    $(document).off('click', 'a[id^=partition_action].ajax');\n    $(document).off('click', '#remove_partitioning.ajax');\n});\nAJAX.registerOnload('table/structure.js', function () {\n    Indexes.resetColumnLists();\n    /**\n     *Ajax action for submitting the \"Column Change\" and \"Add Column\" form\n     */\n    $('.append_fields_form.ajax').off();\n    $(document).on('submit', '.append_fields_form.ajax', function (event) {\n        event.preventDefault();\n        /**\n         * @var form object referring to the export form\n         */\n        var $form = $(this);\n        var fieldCnt = Number($form.find('input[name=orig_num_fields]').val());\n        function submitForm() {\n            var $msg = ajaxShowMessage(window.Messages.strProcessingRequest);\n            $.post($form.attr('action'), $form.serialize() + CommonParams.get('arg_separator') + 'do_save_data=1', function (data) {\n                if ($('.sqlqueryresults').length !== 0) {\n                    $('.sqlqueryresults').remove();\n                }\n                else if ($('.error:not(.tab)').length !== 0) {\n                    $('.error:not(.tab)').remove();\n                }\n                if (typeof data.success !== 'undefined' && data.success === true) {\n                    $('#page_content')\n                        .empty()\n                        .append(data.message)\n                        .show();\n                    highlightSql($('#page_content'));\n                    $('.result_query .alert-primary').remove();\n                    if (typeof data.structure_refresh_route !== 'string') {\n                        // Do not reload the form when the code below freshly filled it\n                        reloadFieldForm();\n                    }\n                    $form.remove();\n                    ajaxRemoveMessage($msg);\n                    Navigation.reload();\n                    if (typeof data.structure_refresh_route === 'string') {\n                        // Fetch the table structure right after adding a new column\n                        $.get(data.structure_refresh_route, function (data) {\n                            if (typeof data.success !== 'undefined' && data.success === true) {\n                                $('#page_content').append(data.message).show();\n                            }\n                        });\n                    }\n                    else {\n                        refreshMainContent('index.php?route=/table/structure');\n                    }\n                }\n                else {\n                    ajaxShowMessage(data.error, false);\n                }\n            }); // end $.post()\n        }\n        function checkIfConfirmRequired($form) {\n            var i = 0;\n            var id;\n            var elm;\n            var val;\n            var nameOrig;\n            var elmOrig;\n            var valOrig;\n            var checkRequired = false;\n            for (i = 0; i < fieldCnt; i++) {\n                id = '#field_' + i + '_5';\n                elm = $(id);\n                val = elm.val();\n                nameOrig = 'input[name=field_collation_orig\\\\[' + i + '\\\\]]';\n                elmOrig = $form.find(nameOrig);\n                valOrig = elmOrig.val();\n                if (val && valOrig && val !== valOrig) {\n                    checkRequired = true;\n                    break;\n                }\n            }\n            return checkRequired;\n        }\n        /*\n         * First validate the form; if there is a problem, avoid submitting it\n         *\n         * Functions.checkTableEditForm() needs a pure element and not a jQuery object,\n         * this is why we pass $form[0] as a parameter (the jQuery object\n         * is actually an array of DOM elements)\n         */\n        if (Functions.checkTableEditForm($form[0], fieldCnt)) {\n            // OK, form passed validation step\n            Functions.prepareForAjaxRequest($form);\n            if (Functions.checkReservedWordColumns($form)) {\n                // User wants to submit the form\n                // If Collation is changed, Warn and Confirm\n                if (checkIfConfirmRequired($form)) {\n                    var question = window.sprintf(window.Messages.strChangeColumnCollation, 'https://wiki.phpmyadmin.net/pma/Garbled_data');\n                    $form.confirm(question, $form.attr('action'), function () {\n                        submitForm();\n                    });\n                }\n                else {\n                    submitForm();\n                }\n            }\n        }\n    }); // end change table button \"do_save_data\"\n    /**\n     * Attach Event Handler for 'Drop Column'\n     */\n    $(document).on('click', 'a.drop_column_anchor.ajax', function (event) {\n        event.preventDefault();\n        /**\n         * @var currTableName String containing the name of the current table\n         */\n        var currTableName = $(this).closest('form').find('input[name=table]').val();\n        /**\n         * @var currRow    Object reference to the currently selected row (i.e. field in the table)\n         */\n        var $currRow = $(this).parents('tr');\n        /**\n         * @var currColumnName    String containing name of the field referred to by {@link curr_row}\n         */\n        var currColumnName = $currRow.children('th').children('label').text().trim();\n        currColumnName = escapeJsString(escapeHtml(currColumnName));\n        /**\n         * @var $afterFieldItem    Corresponding entry in the 'After' field.\n         */\n        var $afterFieldItem = $('select[name=\\'after_field\\'] option[value=\\'' + currColumnName + '\\']');\n        /**\n         * @var question String containing the question to be asked for confirmation\n         */\n        var question = window.sprintf(window.Messages.strDoYouReally, 'ALTER TABLE `' + currTableName + '` DROP `' + currColumnName + '`;');\n        var $thisAnchor = $(this);\n        $thisAnchor.confirm(question, $thisAnchor.attr('href'), function (url) {\n            var $msg = ajaxShowMessage(window.Messages.strDroppingColumn, false);\n            var params = getJsConfirmCommonParam(this, $thisAnchor.getPostData());\n            params += CommonParams.get('arg_separator') + 'ajax_page_request=1';\n            $.post(url, params, function (data) {\n                if (typeof data !== 'undefined' && data.success === true) {\n                    ajaxRemoveMessage($msg);\n                    if ($('.result_query').length) {\n                        $('.result_query').remove();\n                    }\n                    if (data.sql_query) {\n                        $('<div class=\"result_query\"></div>')\n                            .html(data.sql_query)\n                            .prependTo('#structure_content');\n                        highlightSql($('#page_content'));\n                    }\n                    // Adjust the row numbers\n                    for (var $row = $currRow.next(); $row.length > 0; $row = $row.next()) {\n                        var newVal = parseInt($row.find('td').eq(1).text(), 10) - 1;\n                        $row.find('td').eq(1).text(newVal);\n                    }\n                    $afterFieldItem.remove();\n                    $currRow.hide('medium').remove();\n                    // Remove the dropped column from select menu for 'after field'\n                    $('select[name=after_field]').find('[value=\"' + currColumnName + '\"]').remove();\n                    // by default select the (new) last option to add new column\n                    // (in case last column is dropped)\n                    $('select[name=after_field] option').last().attr('selected', 'selected');\n                    // refresh table stats\n                    if (data.tableStat) {\n                        $('#tablestatistics').html(data.tableStat);\n                    }\n                    // refresh the list of indexes (comes from /sql)\n                    $('.index_info').replaceWith(data.indexes_list);\n                    Navigation.reload();\n                }\n                else {\n                    ajaxShowMessage(window.Messages.strErrorProcessingRequest + ' : ' + data.error, false);\n                }\n            }); // end $.post()\n        });\n    }); // end of Drop Column Anchor action\n    /**\n     * Ajax Event handler for adding keys\n     */\n    $(document).on('click', 'a.add_key.ajax', function (event) {\n        event.preventDefault();\n        var $this = $(this);\n        var currTableName = $this.closest('form').find('input[name=table]').val();\n        var currColumnName = $this.parents('tr').children('th').children('label').text().trim();\n        var addClause = '';\n        if ($this.is('.add_primary_key_anchor')) {\n            addClause = 'ADD PRIMARY KEY';\n        }\n        else if ($this.is('.add_index_anchor')) {\n            addClause = 'ADD INDEX';\n        }\n        else if ($this.is('.add_unique_anchor')) {\n            addClause = 'ADD UNIQUE';\n        }\n        else if ($this.is('.add_spatial_anchor')) {\n            addClause = 'ADD SPATIAL';\n        }\n        else if ($this.is('.add_fulltext_anchor')) {\n            addClause = 'ADD FULLTEXT';\n        }\n        var question = window.sprintf(window.Messages.strDoYouReally, 'ALTER TABLE `' +\n            escapeHtml(currTableName) + '` ' + addClause + '(`' + escapeHtml(currColumnName) + '`);');\n        var $thisAnchor = $(this);\n        $thisAnchor.confirm(question, $thisAnchor.attr('href'), function (url) {\n            ajaxShowMessage();\n            AJAX.source = $this;\n            var params = getJsConfirmCommonParam(this, $thisAnchor.getPostData());\n            params += CommonParams.get('arg_separator') + 'ajax_page_request=1';\n            $.post(url, params, AJAX.responseHandler);\n        });\n    }); // end Add key\n    /**\n     * Inline move columns\n     **/\n    $(document).on('click', '#move_columns_anchor', function (e) {\n        e.preventDefault();\n        var buttonOptionsError = {};\n        buttonOptionsError[window.Messages.strOK] = function () {\n            $(this).dialog('close').remove();\n        };\n        var columns = [];\n        $('#tablestructure').find('tbody tr').each(function () {\n            var colName = $(this).find('input:checkbox').eq(0).val();\n            var hiddenInput = $('<input>')\n                .prop({\n                name: 'move_columns[]',\n                type: 'hidden'\n            })\n                .val(colName);\n            columns[columns.length] = $('<li></li>')\n                .addClass('placeholderDrag')\n                .text(colName)\n                .append(hiddenInput);\n        });\n        var colList = $('#move_columns_dialog').find('ul')\n            .find('li').remove().end();\n        for (var i in columns) {\n            colList.append(columns[i]);\n        }\n        colList.sortable({\n            axis: 'y',\n            containment: $('#move_columns_dialog').find('div'),\n            tolerance: 'pointer'\n        }).disableSelection();\n        var $form = $('#move_columns_dialog').find('form');\n        $form.data('serialized-unmoved', $form.serialize());\n        const designerModalPreviewModal = document.getElementById('designerModalPreviewModal');\n        designerModalPreviewModal.addEventListener('shown.bs.modal', () => {\n            const modalBody = designerModalPreviewModal.querySelector('.modal-body');\n            const $form = $('#move_column_form');\n            const formUrl = $form.attr('action');\n            const sep = CommonParams.get('arg_separator');\n            const formData = $form.serialize() +\n                sep + 'preview_sql=1' +\n                sep + 'ajax_request=1';\n            $.post({\n                url: formUrl,\n                data: formData,\n                success: response => {\n                    if (!response.success) {\n                        modalBody.innerHTML = '<div class=\"alert alert-danger\" role=\"alert\">' + window.Messages.strErrorProcessingRequest + '</div>';\n                        return;\n                    }\n                    modalBody.innerHTML = response.sql_data;\n                    highlightSql($('#designerModalPreviewModal'));\n                },\n                error: () => {\n                    modalBody.innerHTML = '<div class=\"alert alert-danger\" role=\"alert\">' + window.Messages.strErrorProcessingRequest + '</div>';\n                }\n            });\n        });\n        designerModalPreviewModal.addEventListener('hidden.bs.modal', () => {\n            designerModalPreviewModal.querySelector('.modal-body').innerHTML = '<div class=\"spinner-border\" role=\"status\">' +\n                '<span class=\"visually-hidden\">' + window.Messages.strLoading + '</span></div>';\n        });\n        $('#moveColumnsModal').modal('show');\n        $('#designerModalGoButton').off('click'); // Unregister previous modals\n        $('#designerModalGoButton').on('click', function () {\n            event.preventDefault();\n            var $msgbox = ajaxShowMessage();\n            var $this = $('#moveColumnsModal');\n            var $form = $this.find('form');\n            var serialized = $form.serialize();\n            // check if any columns were moved at all\n            $('#moveColumnsModal').modal('hide');\n            if (serialized === $form.data('serialized-unmoved')) {\n                ajaxRemoveMessage($msgbox);\n                return;\n            }\n            $.post($form.prop('action'), serialized + CommonParams.get('arg_separator') + 'ajax_request=true', function (data) {\n                if (data.success === false) {\n                    ajaxRemoveMessage($msgbox);\n                    var errorModal = $('#moveColumnsErrorModal');\n                    errorModal.modal('show');\n                    errorModal.find('.modal-body').first().html(data.error);\n                }\n                else {\n                    // sort the fields table\n                    var $fieldsTable = $('table#tablestructure tbody');\n                    // remove all existing rows and remember them\n                    var $rows = $fieldsTable.find('tr').remove();\n                    // loop through the correct order\n                    for (var i in data.columns) {\n                        var theColumn = data.columns[i];\n                        var $theRow = $rows\n                            .find('input:checkbox[value=\\'' + theColumn + '\\']')\n                            .closest('tr');\n                        // append the row for this column to the table\n                        $fieldsTable.append($theRow);\n                    }\n                    var $firstrow = $fieldsTable.find('tr').eq(0);\n                    // Adjust the row numbers and colors\n                    for (var $row = $firstrow; $row.length > 0; $row = $row.next()) {\n                        $row\n                            .find('td').eq(1)\n                            .text($row.index() + 1)\n                            .end()\n                            .removeClass('odd even')\n                            .addClass($row.index() % 2 === 0 ? 'odd' : 'even');\n                    }\n                    ajaxShowMessage(data.message);\n                }\n            });\n        });\n    });\n    /**\n     * Handles multi submits in table structure page such as change, browse, drop, primary etc.\n     */\n    $('body').on('click', '#fieldsForm button.mult_submit', function (e) {\n        e.preventDefault();\n        var $form = $(this).parents('form');\n        var argsep = CommonParams.get('arg_separator');\n        var submitData = $form.serialize() + argsep + 'ajax_request=true' + argsep + 'ajax_page_request=true';\n        ajaxShowMessage();\n        AJAX.source = $form;\n        $.post(this.formAction, submitData, AJAX.responseHandler);\n    });\n    /**\n     * Handles clicks on Action links in partition table\n     */\n    $(document).on('click', 'a[id^=partition_action].ajax', function (e) {\n        e.preventDefault();\n        var $link = $(this);\n        function submitPartitionAction(url) {\n            var params = 'ajax_request=true&ajax_page_request=true&' + $link.getPostData();\n            ajaxShowMessage();\n            AJAX.source = $link;\n            $.post(url, params, AJAX.responseHandler);\n        }\n        if ($link.is('#partition_action_DROP')) {\n            $link.confirm(window.Messages.strDropPartitionWarning, $link.attr('href'), function (url) {\n                submitPartitionAction(url);\n            });\n        }\n        else if ($link.is('#partition_action_TRUNCATE')) {\n            $link.confirm(window.Messages.strTruncatePartitionWarning, $link.attr('href'), function (url) {\n                submitPartitionAction(url);\n            });\n        }\n        else {\n            submitPartitionAction($link.attr('href'));\n        }\n    });\n    /**\n     * Handles remove partitioning\n     */\n    $(document).on('click', '#remove_partitioning.ajax', function (e) {\n        e.preventDefault();\n        var $link = $(this);\n        var question = window.Messages.strRemovePartitioningWarning;\n        $link.confirm(question, $link.attr('href'), function (url) {\n            var params = getJsConfirmCommonParam({\n                'ajax_request': true,\n                'ajax_page_request': true\n            }, $link.getPostData());\n            ajaxShowMessage();\n            AJAX.source = $link;\n            $.post(url, params, AJAX.responseHandler);\n        });\n    });\n    $(document).on('change', 'select[name=after_field]', function () {\n        checkFirst();\n    });\n});\n","module.exports = jQuery;"],"names":["$","AJAX","Functions","Navigation","CommonParams","highlightSql","ajaxRemoveMessage","ajaxShowMessage","Indexes","getJsConfirmCommonParam","escapeHtml","escapeJsString","refreshMainContent","reloadFieldForm","post","attr","serialize","get","formData","$tempDiv","append","message","replaceWith","find","show","checkFirst","data","val","registerTeardown","document","off","registerOnload","resetColumnLists","on","event","preventDefault","$form","fieldCnt","Number","submitForm","$msg","window","Messages","strProcessingRequest","length","remove","success","empty","structure_refresh_route","reload","error","checkIfConfirmRequired","i","id","elm","nameOrig","elmOrig","valOrig","checkRequired","checkTableEditForm","prepareForAjaxRequest","checkReservedWordColumns","question","sprintf","strChangeColumnCollation","confirm","currTableName","closest","$currRow","parents","currColumnName","children","text","trim","$afterFieldItem","strDoYouReally","$thisAnchor","url","strDroppingColumn","params","getPostData","sql_query","html","prependTo","$row","next","newVal","parseInt","eq","hide","last","tableStat","indexes_list","strErrorProcessingRequest","$this","addClause","is","source","responseHandler","e","buttonOptionsError","strOK","dialog","columns","each","colName","hiddenInput","prop","name","type","addClass","colList","end","sortable","axis","containment","tolerance","disableSelection","designerModalPreviewModal","getElementById","addEventListener","modalBody","querySelector","formUrl","sep","response","innerHTML","sql_data","strLoading","modal","$msgbox","serialized","errorModal","first","$fieldsTable","$rows","theColumn","$theRow","$firstrow","index","removeClass","argsep","submitData","formAction","$link","submitPartitionAction","strDropPartitionWarning","strTruncatePartitionWarning","strRemovePartitioningWarning"],"sourceRoot":""}