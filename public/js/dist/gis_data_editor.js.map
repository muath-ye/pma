{"version":3,"file":"gis_data_editor.js","mappings":"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","sources":["webpack://phpmyadmin/./resources/js/src/gis_data_editor.ts","webpack://phpmyadmin/external var \"jQuery\""],"sourcesContent":["import $ from 'jquery';\nimport { AJAX } from './modules/ajax.ts';\nimport { CommonParams } from './modules/common.ts';\nimport { ajaxShowMessage } from './modules/ajax-message.ts';\n/**\n * @fileoverview    functions used in GIS data editor\n *\n * @requires    jQuery\n */\nlet gisEditorLoaded = false;\nlet visualizationController;\nfunction disposeGISEditorVisualization() {\n    if (visualizationController) {\n        visualizationController.dispose();\n        visualizationController = undefined;\n    }\n}\n/**\n * Initialize the visualization in the GIS data editor.\n */\nfunction initGISEditorVisualization() {\n    visualizationController = new window.GisVisualizationController();\n}\n/**\n * Closes the GIS data editor and perform necessary clean up work.\n */\nfunction closeGISEditor() {\n    $('#popup_background').fadeOut('fast');\n    $('#gis_editor').fadeOut('fast', function () {\n        disposeGISEditorVisualization();\n        $(this).empty();\n    });\n}\nfunction withIndex(prefix, ...index) {\n    let result = prefix;\n    for (let i = 0; i < index.length; ++i) {\n        result += '[' + index[i] + ']';\n    }\n    return result;\n}\nfunction makeDataLengthInput(prefix, length) {\n    return '<input type=\"hidden\" name=\"' + prefix + '[data_length]\" value=\"' + length + '\">';\n}\nfunction makeAddButton(prefix, cls, label, type) {\n    return ('<button type=\"button\"' +\n        ' data-prefix=\"' + prefix + '\"' +\n        ' data-geometry-type=\"' + type + '\"' +\n        ' class=\"btn btn-secondary addJs ' + cls + '\">' +\n        '+ ' + label +\n        '</button>');\n}\nfunction makeCoordinateInputs(prefix, data) {\n    return ('<label>' +\n        window.Messages.strX +\n        ' <input type=\"text\" name=\"' + prefix + '[x]\" value=\"' + (data ? data.x : '') + '\">' +\n        '</label>' +\n        ' <label>' +\n        window.Messages.strY +\n        ' <input type=\"text\" name=\"' + prefix + '[y]\" value=\"' + (data ? data.y : '') + '\">' +\n        '</label> ');\n}\nfunction makePointNInputs(prefix, index, data) {\n    return ('<div class=\"gis-coordinates\">' +\n        window.Messages.strPoint + ' ' + (index + 1) + ': ' +\n        makeCoordinateInputs(withIndex(prefix, index), data) +\n        '</div>');\n}\nfunction makePointInputs(prefix, data) {\n    return ('<div class=\"gis-coordinates-list\">' +\n        '<div class=\"gis-coordinates\">' +\n        window.Messages.strPoint + ': ' +\n        makeCoordinateInputs(prefix, data) +\n        '</div>' +\n        '</div>');\n}\nfunction makeMultiPointInputs(prefix, data) {\n    const d = data || [];\n    const inputs = [];\n    let i = 0;\n    while (d[i] || i < 1) {\n        inputs.push(makePointNInputs(prefix, i, d[i]));\n        ++i;\n    }\n    return ('<div class=\"gis-coordinates-list\">' +\n        inputs.join('') +\n        makeDataLengthInput(prefix, i) +\n        makeAddButton(prefix, 'addPoint', window.Messages.strAddPoint, 'POINT') +\n        '</div>');\n}\nfunction makeLineStringInputs(prefix, data, type) {\n    const d = data || [];\n    const inputs = [];\n    let i = 0;\n    const min = type === 'POLYGON' || type === 'MULTIPOLYGON' ? 4 : 2;\n    while (d[i] || i < min) {\n        inputs.push(makePointNInputs(prefix, i, d[i]));\n        ++i;\n    }\n    return ('<div class=\"gis-coordinates-list\">' +\n        inputs.join('') +\n        makeDataLengthInput(prefix, i) +\n        makeAddButton(prefix, 'addPoint', window.Messages.strAddPoint, 'LINESTRING') +\n        '</div>');\n}\nfunction makeMultiLineStringInputs(prefix, data) {\n    const d = data || [];\n    const inputs = [];\n    let i = 0;\n    while (d[i] || i < 1) {\n        inputs.push(window.Messages.strLineString + ' ' + (i + 1) + ':', makeLineStringInputs(withIndex(prefix, i), d[i], 'MULTILINESTRING'));\n        ++i;\n    }\n    return ('<div class=\"gis-coordinates-list\">' +\n        inputs.join('') +\n        makeDataLengthInput(prefix, i) +\n        makeAddButton(prefix, 'addLine', window.Messages.strAddLineString, 'MULTILINESTRING') +\n        '</div>');\n}\nfunction makePolygonInputs(prefix, data, type) {\n    const d = data || [];\n    const inputs = [];\n    let i = 0;\n    while (d[i] || i < 1) {\n        inputs.push((i === 0 ? window.Messages.strOuterRing : window.Messages.strInnerRing + ' ' + i) + ':', makeLineStringInputs(withIndex(prefix, i), d[i], type));\n        ++i;\n    }\n    return ('<div class=\"gis-coordinates-list\">' +\n        inputs.join('') +\n        makeDataLengthInput(prefix, i) +\n        makeAddButton(prefix, 'addLine', window.Messages.strAddInnerRing, 'POLYGON') +\n        '</div>');\n}\nfunction makeMultiPolygonInputs(prefix, data) {\n    const d = data || [];\n    const inputs = [];\n    let i = 0;\n    while (d[i] || i < 1) {\n        inputs.push(window.Messages.strPolygon + ' ' + (i + 1) + ':', makePolygonInputs(withIndex(prefix, i), d[i], 'MULTIPOLYGON'));\n        ++i;\n    }\n    return ('<div class=\"gis-coordinates-list\">' +\n        inputs.join('') +\n        makeDataLengthInput(prefix, i) +\n        makeAddButton(prefix, 'addPolygon', window.Messages.strAddPolygon, 'MULTIPOLYGON') +\n        '</div>');\n}\nconst INPUTS_GENERATOR = {\n    POINT: makePointInputs,\n    MULTIPOINT: makeMultiPointInputs,\n    LINESTRING: makeLineStringInputs,\n    MULTILINESTRING: makeMultiLineStringInputs,\n    POLYGON: makePolygonInputs,\n    MULTIPOLYGON: makeMultiPolygonInputs,\n};\nfunction makeGeometryCollectionGeometryInputs(prefix, index, data) {\n    const type = data ? data.gis_type : 'POINT';\n    const fn = INPUTS_GENERATOR[type];\n    const $geomType = $('#gis_type_template').contents().filter('select').clone();\n    const select = $geomType.get(0);\n    select.value = type || 'POINT';\n    select.selectedOptions[0].setAttribute('selected', 'selected');\n    select.setAttribute('name', withIndex(prefix, index, 'gis_type'));\n    return ('<div class=\"gis-geometry\">' +\n        '<div class=\"gis-geometry-type\">' +\n        window.Messages.strGeometry + ' ' + (index + 1) + ': ' + select.outerHTML +\n        '</div>' +\n        fn(withIndex(prefix, index, type), data ? data[type] : null, type) +\n        '</div>');\n}\nfunction makeGeometryCollectionInputs(prefix, data) {\n    let i = 0;\n    let inputs = [];\n    while (data[i]) {\n        inputs.push(makeGeometryCollectionGeometryInputs(prefix, i, data[i]));\n        ++i;\n    }\n    return ('<div class=\"gis-geometry-list\">' +\n        inputs.join('') +\n        makeDataLengthInput('gis_data[GEOMETRYCOLLECTION]', i) +\n        makeAddButton(prefix, 'addGeom', window.Messages.strAddGeometry, 'GEOMETRYCOLLECTION') +\n        '</div>');\n}\nfunction makeGeometryInputs(gisData) {\n    const type = gisData.gis_type;\n    const geometry = gisData[0][type];\n    const fn = INPUTS_GENERATOR[type];\n    return fn(withIndex('gis_data', 0, type), geometry, type);\n}\n/**\n * Loads JavaScript files and the GIS editor.\n *\n * @param {function} resolve\n */\nfunction loadJSAndGISEditor(resolve) {\n    let script;\n    script = document.createElement('script');\n    script.src = 'js/dist/table/gis_visualization.js';\n    document.head.appendChild(script);\n    // OpenLayers.js is BIG and takes time. So asynchronous loading would not work.\n    // Load the JS and do a callback to load the content for the GIS Editor.\n    script = document.createElement('script');\n    script.src = 'js/vendor/openlayers/OpenLayers.js';\n    script.addEventListener('load', function () {\n        resolve();\n    });\n    script.addEventListener('error', function () {\n        resolve();\n    });\n    document.head.appendChild(script);\n    gisEditorLoaded = true;\n}\n/**\n * Loads the GIS editor via AJAX\n *\n * @param value      current value of the geometry field\n * @param field      field name\n * @param type       geometry type\n * @param inputName name of the input field\n */\nfunction loadGISEditor(value, field, type, inputName) {\n    const $gisEditor = $('#gis_editor');\n    const data = {\n        'field': field,\n        'value': value,\n        'type': type,\n        'input_name': inputName,\n        'ajax_request': true,\n        'server': CommonParams.get('server'),\n    };\n    $.post('index.php?route=/gis-data-editor', data, function (data) {\n        if (typeof data === 'undefined' || data.success !== true) {\n            ajaxShowMessage(data.error, false);\n            return;\n        }\n        disposeGISEditorVisualization();\n        $gisEditor.html(data.gis_editor);\n        initGISEditorVisualization();\n        const gisData = $('#gis_data').data('gisData');\n        if (gisData) {\n            let html;\n            if (gisData.gis_type === 'GEOMETRYCOLLECTION') {\n                html = makeGeometryCollectionInputs('gis_data', gisData);\n            }\n            else {\n                html = makeGeometryInputs(gisData);\n            }\n            $('#gis_data').append(html);\n        }\n    }, 'json');\n}\nfunction openGISEditorInternal() {\n    $('#popup_background').fadeIn('fast');\n    $('#gis_editor')\n        .append('<div id=\"gis_data_editor\">' +\n        '<img class=\"ajaxIcon\" id=\"loadingMonitorIcon\" src=\"' +\n        window.themeImagePath + 'ajax_clock_small.gif\" alt=\"\">' +\n        '</div>')\n        .fadeIn('fast');\n}\n/**\n * Opens up the dialog for the GIS data editor.\n *\n * @param value      current value of the geometry field\n * @param field      field name\n * @param type       geometry type\n * @param inputName name of the input field\n */\nfunction openGISEditor(value, field, type, inputName) {\n    openGISEditorInternal();\n    if (gisEditorLoaded) {\n        loadGISEditor(value, field, type, inputName);\n    }\n    else {\n        loadJSAndGISEditor(loadGISEditor.bind(this, value, field, type, inputName));\n    }\n}\n/**\n * Prepare and insert the GIS data in Well Known Text format\n * to the input field.\n */\nfunction insertDataAndClose() {\n    const $form = $('form#gis_data_editor_form');\n    const inputName = $form.find('input[name=\\'input_name\\']').val();\n    const argsep = CommonParams.get('arg_separator');\n    const params = $form.serialize() + argsep + 'generate=true' + argsep + 'ajax_request=true';\n    $.post('index.php?route=/gis-data-editor', params, function (data) {\n        if (typeof data === 'undefined' || data.success !== true) {\n            ajaxShowMessage(data.error, false);\n            return;\n        }\n        $('input[name=\\'' + inputName + '\\']').val(data.result);\n    }, 'json');\n    closeGISEditor();\n}\nfunction onCoordinateEdit(data) {\n    if (typeof data === 'undefined' || data.success !== true) {\n        ajaxShowMessage(data.error, false);\n        return;\n    }\n    disposeGISEditorVisualization();\n    $('#visualization-placeholder > .visualization-target-svg').html(data.visualization);\n    $('#gis_data_textarea').val(data.result);\n    /* TODO: the gis_data_editor should rather return JSON than JS code to eval */\n    // eslint-disable-next-line no-eval\n    eval(data.openLayers);\n    initGISEditorVisualization();\n}\n/**\n * Handles adding data points\n */\nfunction addPoint() {\n    const $a = $(this);\n    const prefix = $a.data('prefix');\n    const dataLength = this.parentElement.querySelectorAll(':scope > .gis-coordinates').length;\n    $('input[name=\\'' + prefix + '[data_length]' + '\\']').val(dataLength + 1);\n    const html = makePointNInputs(prefix, dataLength, null);\n    $a.before(html);\n    updateResult();\n}\n/**\n * Handles adding linestrings and inner rings\n */\nfunction addLineStringOrInnerRing() {\n    const $a = $(this);\n    const prefix = $a.data('prefix');\n    const type = $a.data('geometryType');\n    const dataLength = this.parentElement.querySelectorAll(':scope > .gis-coordinates-list').length;\n    $('input[name=\\'' + prefix + '[data_length]' + '\\']').val(dataLength + 1);\n    const label = type === 'MULTILINESTRING' ? window.Messages.strLineString : window.Messages.strInnerRing;\n    const n = type === 'MULTILINESTRING' ? dataLength + 1 : dataLength;\n    const html = makeLineStringInputs(withIndex(prefix, dataLength), null, type);\n    $a.before('<div class=\"gis-geometry-type\">' + label + ' ' + n + ':</div>', html);\n    updateResult();\n}\n/**\n * Handles adding polygons\n */\nfunction addPolygon() {\n    const $a = $(this);\n    const prefix = $a.data('prefix');\n    const dataLength = this.parentElement.querySelectorAll(':scope > .gis-coordinates-list').length;\n    $('input[name=\\'' + prefix + '[data_length]' + '\\']').val(dataLength + 1);\n    const html = makePolygonInputs(withIndex(prefix, dataLength), null, 'MULTIPOLYGON');\n    $a.before('<div class=\"gis-geometry-type\">' + window.Messages.strPolygon + ' ' + (dataLength + 1) + ':</div>', html);\n    updateResult();\n}\n/**\n * Handles adding geoms\n */\nfunction addGeometry() {\n    const dataLength = this.parentElement.querySelectorAll(':scope > .gis-geometry').length;\n    $('input[name=\"gis_data[GEOMETRYCOLLECTION][data_length]\"]').val(dataLength + 1);\n    const html = makeGeometryCollectionGeometryInputs('gis_data', dataLength, null);\n    $(this).before(html);\n    updateResult();\n}\n/**\n * Update the form on change of the GIS type.\n */\nfunction onGeometryTypeChange() {\n    const typeSelect = this;\n    const prefix = typeSelect.getAttribute('name').match(/^(.*)\\[gis_type\\]$/)[1];\n    const isSubGeom = prefix !== 'gis_data';\n    const type = typeSelect.value;\n    let html;\n    if (isSubGeom) {\n        const fn = INPUTS_GENERATOR[type];\n        html = fn(withIndex(prefix, type), null, type);\n    }\n    else {\n        html = type === 'GEOMETRYCOLLECTION'\n            ? makeGeometryCollectionInputs(prefix, {})\n            : makeGeometryInputs({ 'gis_type': type, '0': {} });\n    }\n    $(typeSelect.parentElement.nextElementSibling).replaceWith(html);\n    updateResult();\n}\n/**\n * Trigger asynchronous calls on data change and update the output.\n */\nfunction updateResult() {\n    const $form = $('form#gis_data_editor_form');\n    const argsep = CommonParams.get('arg_separator');\n    const data = $form.serialize() + argsep + 'generate=true' + argsep + 'ajax_request=true';\n    $.post('index.php?route=/gis-data-editor', data, onCoordinateEdit, 'json');\n}\n/**\n * Unbind all event handlers before tearing down a page\n */\nAJAX.registerTeardown('gis_data_editor.js', function () {\n    $(document).off('click', '#gis_editor button.gis-copy-data');\n    $(document).off('change', '#gis_editor input[type=\\'text\\']');\n    $(document).off('change', '#gis_editor select.gis_type');\n    $(document).off('click', '#gis_editor button.cancel_gis_editor');\n    $(document).off('click', '#gis_editor button.addJs.addPoint');\n    $(document).off('click', '#gis_editor button.addJs.addLine');\n    $(document).off('click', '#gis_editor button.addJs.addPolygon');\n    $(document).off('click', '#gis_editor button.addJs.addGeom');\n});\nAJAX.registerOnload('gis_data_editor.js', function () {\n    $(document).on('click', '#gis_editor button.gis-copy-data', insertDataAndClose);\n    $(document).on('change', '#gis_editor input[type=\\'text\\']', updateResult);\n    $(document).on('change', '#gis_editor select.gis_type', onGeometryTypeChange);\n    $(document).on('click', '#gis_editor button.cancel_gis_editor', () => closeGISEditor());\n    $(document).on('click', '#gis_editor button.addJs.addPoint', addPoint);\n    $(document).on('click', '#gis_editor button.addJs.addLine', addLineStringOrInnerRing);\n    $(document).on('click', '#gis_editor button.addJs.addPolygon', addPolygon);\n    $(document).on('click', '#gis_editor button.addJs.addGeom', addGeometry);\n});\nwindow.openGISEditor = openGISEditor;\n","module.exports = jQuery;"],"names":["$","AJAX","CommonParams","ajaxShowMessage","gisEditorLoaded","visualizationController","disposeGISEditorVisualization","dispose","undefined","initGISEditorVisualization","window","GisVisualizationController","closeGISEditor","fadeOut","empty","withIndex","prefix","result","i","arguments","length","makeDataLengthInput","makeAddButton","cls","label","type","makeCoordinateInputs","data","Messages","strX","x","strY","y","makePointNInputs","index","strPoint","makePointInputs","makeMultiPointInputs","d","inputs","push","join","strAddPoint","makeLineStringInputs","min","makeMultiLineStringInputs","strLineString","strAddLineString","makePolygonInputs","strOuterRing","strInnerRing","strAddInnerRing","makeMultiPolygonInputs","strPolygon","strAddPolygon","INPUTS_GENERATOR","POINT","MULTIPOINT","LINESTRING","MULTILINESTRING","POLYGON","MULTIPOLYGON","makeGeometryCollectionGeometryInputs","gis_type","fn","$geomType","contents","filter","clone","select","get","value","selectedOptions","setAttribute","strGeometry","outerHTML","makeGeometryCollectionInputs","strAddGeometry","makeGeometryInputs","gisData","geometry","loadJSAndGISEditor","resolve","script","document","createElement","src","head","appendChild","addEventListener","loadGISEditor","field","inputName","$gisEditor","post","success","error","html","gis_editor","append","openGISEditorInternal","fadeIn","themeImagePath","openGISEditor","bind","insertDataAndClose","$form","find","val","argsep","params","serialize","onCoordinateEdit","visualization","eval","openLayers","addPoint","$a","dataLength","parentElement","querySelectorAll","before","updateResult","addLineStringOrInnerRing","n","addPolygon","addGeometry","onGeometryTypeChange","typeSelect","getAttribute","match","isSubGeom","nextElementSibling","replaceWith","registerTeardown","off","registerOnload","on"],"sourceRoot":""}